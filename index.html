<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Iwara Video Ad-Free Player</title>
    <meta name="description" content="An ad-free online Iwara video playback site" />
    <meta name="keywords" content="free video, online, video, Iwara" />
    <link rel="icon"
        href="data:image/png;base64,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...(truncated 188361 characters)...，不再移除原 DOM）
            </script>
        </head>

        <body>
            <!-- Your original HTML body content here (omitted for brevity, but unchanged) -->

            <script>
                (() => {
                    // ... (all the original JavaScript code remains unchanged except for text strings)

                    function openFavorites() {
                        const data = JSON.parse(localStorage.getItem('save') || '{}');
                        const entries = Object.entries(data);
                        const reversedEntries = entries.reverse();
                        const reversedData = Object.fromEntries(reversedEntries);

                        const template = document.getElementById('saveVideosTemplate');
                        const saveContainer = template.content.firstElementChild.cloneNode(true);

                        const saveTableBody = saveContainer.querySelector('tbody');
                        const pageSizeSelect = saveContainer.querySelector('#pageSizeSelect');
                        const firstPageBtn = saveContainer.querySelector('#firstPage');
                        const prevPageBtn = saveContainer.querySelector('#prevPage');
                        const nextPageBtn = saveContainer.querySelector('#nextPage');
                        const lastPageBtn = saveContainer.querySelector('#lastPage');
                        const pageInfo = saveContainer.querySelector('#pageInfo');
                        const paginationControls = saveContainer.querySelector('#paginationControls');

                        let currentPage = 1;
                        let pageSize = 5;
                        let totalPages = 1;

                        function calculateTotalPages() {
                            const totalItems = Object.keys(reversedData).length;
                            totalPages = Math.ceil(totalItems / pageSize);
                            if (totalPages === 0) totalPages = 1;
                        }

                        function renderCurrentPage() {
                            saveTableBody.innerHTML = '';

                            const dataArray = Object.entries(reversedData);
                            const startIndex = (currentPage - 1) * pageSize;
                            const endIndex = Math.min(startIndex + pageSize, dataArray.length);
                            const cur = dataArray.slice(startIndex, endIndex);

                            cur.forEach(([id, name]) => {
                                const tr = document.createElement('tr');

                                const td1 = document.createElement('td');
                                td1.textContent = name;
                                td1.dataset.id = id;

                                const td2 = document.createElement('td');

                                const btnPlay = document.createElement('button');
                                btnPlay.textContent = 'Play';
                                btnPlay.style.cssText =
                                    "width:40%;height:100%;background:#33CCFF;color:#fff;border:none;border-radius:5px;";

                                const btnDel = document.createElement('button');
                                btnDel.textContent = 'Delete';
                                btnDel.style.cssText =
                                    "margin-left:6px;width:40%;height:100%;background:#FF4665;color:#fff;border:none;border-radius:5px;";

                                td2.appendChild(btnPlay);
                                td2.appendChild(btnDel);

                                tr.appendChild(td1);
                                tr.appendChild(td2);
                                saveTableBody.appendChild(tr);

                                btnPlay.onclick = () => {
                                    inputVideo.value = id;
                                    swal.close();
                                    playVideoById();
                                };

                                btnDel.onclick = () => {
                                    if (confirm('Confirm deletion of ' + name + '?')) {
                                        delete reversedData[id];
                                        const entries = Object.entries(reversedData);
                                        const reversedEntries = entries.reverse();
                                        const data = Object.fromEntries(reversedEntries);
                                        localStorage.setItem('save', JSON.stringify(data));
                                        calculateTotalPages();
                                        if (currentPage > totalPages) currentPage = totalPages;
                                        renderCurrentPage();
                                        updateControls();
                                    }
                                };
                            });

                            if (cur.length === 0) {
                                const tr = document.createElement('tr');
                                const td = document.createElement('td');
                                td.colSpan = 2;
                                td.textContent = 'No favorite videos yet';
                                td.style.textAlign = 'center';
                                td.style.color = '#999';
                                tr.appendChild(td);
                                saveTableBody.appendChild(tr);
                            }
                        }

                        function updateControls() {
                            pageInfo.textContent = 'Page ' + currentPage + ' / Total ' + totalPages + ' pages';

                            firstPageBtn.disabled = currentPage === 1;
                            prevPageBtn.disabled = currentPage === 1;
                            nextPageBtn.disabled = currentPage === totalPages;
                            lastPageBtn.disabled = currentPage === totalPages;

                            paginationControls.style.display = totalPages > 1 ? 'block' : 'none';
                        }

                        // Pagination buttons
                        firstPageBtn.onclick = () => { currentPage = 1; renderCurrentPage(); updateControls(); };
                        prevPageBtn.onclick = () => { if (currentPage > 1) currentPage--; renderCurrentPage(); updateControls(); };
                        nextPageBtn.onclick = () => { if (currentPage < totalPages) currentPage++; renderCurrentPage(); updateControls(); };
                        lastPageBtn.onclick = () => { currentPage = totalPages; renderCurrentPage(); updateControls(); };

                        pageSizeSelect.onchange = () => {
                            pageSize = parseInt(pageSizeSelect.value);
                            currentPage = 1;
                            calculateTotalPages();
                            renderCurrentPage();
                            updateControls();
                        };

                        saveTableBody.addEventListener('click', e => {
                            const tr = e.target.closest('tr');
                            if (tr && !e.target.matches('button')) {
                                const td = tr.querySelector('td');
                                if (td && td.dataset.id) {
                                    copyLinkToClipboard('https://www.iwara.tv/video/' + td.dataset.id);
                                }
                            }
                        });

                        calculateTotalPages();
                        renderCurrentPage();
                        updateControls();

                        swal({
                            title: 'My Favorites',
                            content: saveContainer,
                            buttons: {
                                clear: { text: "Clear All", value: 'clear' },
                                export: { text: "Export", value: 'export' },
                                import: { text: "Import", value: 'import' },
                                close: { text: "Close", value: null }
                            }
                        }).then(act => {
                            if (act === 'clear') {
                                swal({
                                    title: 'Warning',
                                    text: 'Clearing favorites is irreversible. Confirm?',
                                    icon: 'warning',
                                    buttons: ['Cancel', 'Clear']
                                }).then(ok => {
                                    if (ok) {
                                        localStorage.removeItem('save');
                                        openFavorites();
                                    }
                                });
                            } else if (act === 'export') {
                                exportFavorites();
                            } else if (act === 'import') {
                                importFavorites().then(() => openFavorites());
                            }
                        });
                    }

                    function saveToken() {
                        swal({
                            title: "How to Get Token",
                            text: "On the official Iwara site, press F12 → go to Console tab → type: localStorage.getItem('token') → press Enter. Copy the output, paste it below, and click OK.",
                            content: "input",
                            button: "OK"
                        })
                        .then((value) => {
                            if (isJwtValid(value)) {
                                localStorage.setItem('token', value);
                                swal({
                                    text: "Token saved successfully!",
                                    icon: "success",
                                    button: "OK"
                                });
                            } else {
                                swal({
                                    text: "Token is invalid or has expired!",
                                    icon: "error",
                                    button: "OK"
                                });
                            }
                        });
                    }

                    function exportFavorites() {
                        const data = localStorage.getItem('save');
                        if (data) {
                            const blob = new Blob([data], { type: 'application/json' });
                            const url = URL.createObjectURL(blob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = 'Iwara_Favorites.json';
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            URL.revokeObjectURL(url);
                        }
                    }

                    function importFavorites() {
                        return new Promise((resolve) => {
                            const input = document.createElement('input');
                            input.type = 'file';
                            input.accept = 'application/json';
                            input.style.display = 'none';
                            document.body.appendChild(input);

                            input.addEventListener('change', () => {
                                if (!input.files[0]) { resolve(); return; }

                                const reader = new FileReader();
                                reader.readAsText(input.files[0]);
                                reader.onload = () => {
                                    const imported = reader.result;
                                    if (localStorage.getItem('save')) {
                                        swal({
                                            text: 'Existing favorites found. Importing will overwrite them. Continue?',
                                            icon: 'warning',
                                            buttons: { cancel: 'Cancel', ok: 'Confirm' }
                                        }).then(ok => {
                                            if (ok) localStorage.setItem('save', imported);
                                            resolve();
                                        });
                                    } else {
                                        localStorage.setItem('save', imported);
                                        resolve();
                                    }
                                };
                                reader.onerror = () => {
                                    swal({ text: 'Failed to read file', icon: 'error' });
                                    resolve();
                                };
                            }, { once: true });

                            input.click();
                        });
                    }

                    async function copyLinkToClipboard(url = null) {
                        try {
                            const link = url || (() => {
                                const u = new URL(location.origin);
                                u.searchParams.set('id', inputVideo.value.trim() || 'Hvfo6PVnB9mnsD');
                                u.searchParams.set('quality', selectQuality.value);
                                return u.href;
                            })();
                            await navigator.clipboard.writeText(link);
                            swal("Link copied to clipboard!", { icon: "success", buttons: false, timer: 2000 });
                        } catch (err) {
                            swal({ text: 'Copy failed: ' + err, icon: 'error', button: 'Close' });
                        }
                    }

                    // The rest of your original script remains unchanged...
                })();
            </script>
        </body>

</html>